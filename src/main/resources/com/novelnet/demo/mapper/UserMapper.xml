<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.novelnet.demo.mapper.UserMapper">
    <select id="login" resultType="com.novelnet.demo.pojo.User">
        select uid, account, username, password from user where account = #{account} and password = #{password}
    </select>

    <select id="isHaveAccount" resultType="com.novelnet.demo.pojo.User">
        select * from user where account = #{account}
    </select>

    <insert id="enroll">
        insert into user(uid, account, password, username, email, sex, qq, personal_web)
        values(null, #{user.account}, #{user.password}, #{user.username}, #{user.email}, #{user.sex}, #{user.qq}, #{user.personalWeb}
        )
    </insert>

    <select id="getUserByAccountAndEmail" resultType="com.novelnet.demo.pojo.User">
        select uid, account, username, password from user where account = #{account} and email = #{email}
    </select>

    <update id="updatePassword">
        update `user` set password = #{newPassword} where uid = #{uid}
    </update>
</mapper>